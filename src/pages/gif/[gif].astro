---
// import type { GetStaticPaths } from "astro"

import Layout from "../../layouts/Layout.astro"
import type { GifResponse } from "../../types/types"

import { dataMapper } from "../../utils/gifResponseMapper"

const { gif } = Astro.params

// Service
const TENOR_API_KEY = "AIzaSyBwtgEHAWlCQW0bDiIrT9oksqKfElzh5r0"

const URL = `https://tenor.googleapis.com/v2/posts?key=${TENOR_API_KEY}&ids=${gif}`

const response = await fetch(URL)
const data: GifResponse = await response.json()
const mappedGif = dataMapper(data.results[0])

const Capitalize = (word : string) => {
  return word.charAt(0).toUpperCase() + word.slice(1)
}

// console.log(data.results[0])



---


<Layout title=`Your Gif: ${Capitalize(mappedGif.tags[0])}`>
    <div class="">
      <div>
        <h1>Showing GIF {gif}</h1>
        <img alt="gif" src={`${mappedGif.images.gif}`} class="w-1/3" />
      </div>
    <div>
      <h3>Tags: {mappedGif.tags}</h3>
    <h3>Alt: {mappedGif.alt}</h3>
    {gif}
    <div></div>
    </div>

    </div>
  </div>
</Layout>
